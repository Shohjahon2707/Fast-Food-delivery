{% extends "base.html" %}
{% load static %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block content %}
<div class="container text-center my-5">
  <h1 class="mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ FastFood Delivery üçî</h1>
  <p class="lead">–í—ã–±–∏—Ä–∞–π –≤–∫—É—Å–Ω—ã–µ –±–ª—é–¥–∞ –∏ –∑–∞–∫–∞–∑—ã–≤–∞–π –æ–Ω–ª–∞–π–Ω!</p>

  <h2 class="mt-5">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–ª—é–¥–∞</h2>
  <div class="row mt-3">
    {% for item in featured_items %}
      <div class="col-lg-4 col-md-6 mb-4 d-flex">
        <div class="card shadow-sm flex-fill d-flex flex-column rounded-4 border-0 hover-card">
          {% if item.image %}
            <img src="{{ item.image.url }}" class="card-img-top rounded-top-4" alt="{{ item.name }}" style="height: 200px; object-fit: cover;">
          {% else %}
            <img src="{% static 'img/no_image.png' %}" class="card-img-top rounded-top-4" alt="No image" style="height: 200px; object-fit: cover;">
          {% endif %}

          <div class="card-body d-flex flex-column text-center">
            <h5 class="fw-bold">{{ item.name }}</h5>
            <p class="text-muted small description">{{ item.description|truncatewords:15 }}</p>
            <p class="fw-bold text-success price">{{ item.price }} UZS</p>

            {% if item.is_available %}
              {% if user.is_authenticated %}
                <a href="{% url 'add_to_cart' item.id %}" class="btn btn-success w-100 mt-auto rounded-pill">üõí –í –∫–æ—Ä–∑–∏–Ω—É</a>
              {% else %}
                <a href="{% url 'login' %}" class="btn btn-warning w-100 mt-auto rounded-pill">üõí –í –∫–æ—Ä–∑–∏–Ω—É</a>
              {% endif %}
            {% else %}
              <span class="badge bg-secondary mt-auto">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</span>
            {% endif %}
          </div>
        </div>
      </div>
    {% empty %}
      <p class="text-center">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–ª—é–¥.</p>
    {% endfor %}
  </div>
</div>

<style>
.hover-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.hover-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.15);
}
.description {
  min-height: 60px; /* –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è –≤—ã—Å–æ—Ç–∞ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ */
}
.price {
  font-size: 1.2rem;
  color: #28a745;
  margin-bottom: 10px;
}
</style>
{% endblock %}
